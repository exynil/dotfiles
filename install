#!/bin/bash

# Что делает этот скрипт:
# - Устанавливает симлинки на конфиги в папках

# ВНИМАНИЕ! Скрипт перезаписывает существующие файлы!

# все файлы в подпапках
mapfile -t files < <(find ./*/ -type f)

for file in "${files[@]#*/}"; do
    # путь к файлу в домашнем каталоге
    dir=$(dirname "${file#*/}")

    # проверка наличия директории в $HOME
    [[ ! -d "$HOME/$dir" ]] && mkdir -p "$HOME/$dir"

    # создание ссылки с перезаписью существующего файла
    ln -sf "$PWD/$file" "$HOME/${file#*/}"
done
