#!/bin/bash

dir="$HOME/.config/rofi"

rofi_command='rofi -theme themes/colorscheme.rasi'

colorschemes=($(find "$dir/themes/colorschemes/" -type f | tr '/' ' ' | awk '{print $7}'))

option_colorschemes=$(echo "${colorschemes[@]}" | tr ' ' '\n')

colorscheme="$(echo -e "$option_colorschemes" | $rofi_command -p colorscheme -dmenu)"

for j in "${colorschemes[@]}"; do
    if [ $colorscheme = $j ]; then
        echo "@import \"colorschemes/$colorscheme\"" > $dir/themes/colors.rasi
        break
    fi
done

