#!/bin/bash

# Путь к папке, где находятся файлы
folder_path="/media/hdd/work/leetcode"

# Создаем массив из файлов, начинающихся с числа
files=("$folder_path"/[0-9][0-9][0-9][0-9]*)

# Проверяем, что найдены подходящие файлы
if [ ${#files[@]} -eq 0 ]; then
  echo "Нет файлов, начинающихся с числа, в указанной папке."
  exit 1
fi

# Выбираем случайный файл из массива
random_file="${files[RANDOM % ${#files[@]}]}"

# Извлекаем числовую часть из имени файла
filename=$(basename "$random_file")
number=$(echo "$filename" | grep -oE '[0-9]{4}')

# Извлекаем текстовую часть из имени файла
text=$(echo "$filename" | sed -E 's/^[0-9]{4}-([^.]+)\.md$/\1/')

# Формируем ссылку
link="https://leetcode.com/problems/$text/"

# Открываем ссылку в Firefox
firefox "$link"
